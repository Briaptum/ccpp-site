<template>
  <div class="bg-white">
    <!-- Hero -->
    <section class="relative min-h-[55vh] flex items-center overflow-hidden pt-24 md:pt-28 pb-16 bg-gradient-to-br from-[#0f172a] via-[#11263f] to-[#1d3a54] text-white">
      <div class="absolute inset-0" aria-hidden="true">
        <div
          class="absolute inset-0 opacity-30 mix-blend-screen"
          style="background-image: radial-gradient(circle at 20% 30%, rgba(255,255,255,0.25), transparent 45%), radial-gradient(circle at 70% 15%, rgba(255,255,255,0.18), transparent 35%), radial-gradient(circle at 60% 80%, rgba(255,255,255,0.2), transparent 30%);"
        ></div>
        <div class="absolute inset-y-[-35%] left-[-15%] w-1/2 bg-gradient-to-r from-brand-orange/30 via-transparent to-transparent blur-[150px] opacity-70"></div>
        <div class="absolute inset-y-[-35%] right-[-15%] w-2/3 bg-gradient-to-l from-brand-blue/30 via-transparent to-transparent blur-[200px] opacity-70"></div>
        <div class="absolute inset-x-0 bottom-0 h-40 bg-gradient-to-t from-black/70 via-black/40 to-transparent"></div>
      </div>
      <div class="relative z-10 w-full max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center space-y-6">
        <p class="text-sm uppercase tracking-[0.35em] text-white/70">{{ hero.eyebrow }}</p>
        <h1 class="text-4xl md:text-5xl lg:text-6xl font-bold leading-tight">{{ hero.title }}</h1>
        <p class="text-lg md:text-xl text-white/85 max-w-3xl mx-auto font-light">
          {{ hero.subtitle }}
        </p>
        <div class="flex justify-center gap-4 pt-4 text-white/80">
          <a
            href="https://www.facebook.com/calvarychapelpp"
            target="_blank"
            rel="noopener noreferrer"
            class="w-11 h-11 rounded-full border border-white/30 flex items-center justify-center hover:bg-white/10 transition"
            aria-label="Facebook"
          >
            <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24">
              <path d="M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"/>
            </svg>
          </a>
          <a
            href="mailto:calvarychapelphnompenh@gmail.com"
            class="w-11 h-11 rounded-full border border-white/30 flex items-center justify-center hover:bg-white/10 transition"
            aria-label="Email"
          >
            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z" />
            </svg>
          </a>
          <a
            href="https://www.youtube.com/@CalvaryChapelPhnomPenh"
            target="_blank"
            rel="noopener noreferrer"
            class="w-11 h-11 rounded-full border border-white/30 flex items-center justify-center hover:bg-white/10 transition"
            aria-label="YouTube"
          >
            <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24">
              <path d="M23.498 6.186a3.016 3.016 0 0 0-2.122-2.136C19.505 3.545 12 3.545 12 3.545s-7.505 0-9.377.505A3.017 3.017 0 0 0 .502 6.186C0 8.07 0 12 0 12s0 3.93.502 5.814a3.016 3.016 0 0 0 2.122 2.136c1.871.505 9.376.505 9.376.505s7.505 0 9.377-.505a3.015 3.015 0 0 0 2.122-2.136C24 15.93 24 12 24 12s0-3.93-.502-5.814zM9.545 15.568V8.432L15.818 12l-6.273 3.568z"/>
            </svg>
          </a>
        </div>
      </div>
    </section>

    <!-- Info + Form -->
    <section class="py-16 md:py-20 bg-gradient-to-b from-white via-gray-50 to-gray-100">
      <div class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 grid gap-10 lg:grid-cols-2">
        <div class="space-y-8">
          <div class="rounded-[28px] border border-gray-100 bg-white shadow-2xl p-8 space-y-6">
            <p class="text-xs uppercase tracking-[0.35em] text-brand-blue/70">{{ info.eyebrow }}</p>
            <h2 class="text-3xl font-semibold text-gray-900">{{ info.title }}</h2>
            <p class="text-gray-600">
              {{ info.description }}
            </p>
            <div class="space-y-6">
              <div class="flex gap-4">
                <div class="rounded-2xl bg-brand-blue/10 text-brand-blue flex items-center justify-center h-14 w-14 text-2xl">üìç</div>
                <div>
                  <h3 class="font-semibold text-gray-900">{{ info.address.label }}</h3>
                  <p class="text-gray-600 leading-relaxed">
                    <span v-for="(line, idx) in info.address.lines" :key="idx">
                      {{ line }}<br />
                    </span>
                  </p>
                </div>
              </div>
              <div class="flex gap-4">
                <div class="rounded-2xl bg-brand-blue/10 text-brand-blue flex items-center justify-center h-14 w-14 text-2xl">üìû</div>
                <div>
                  <h3 class="font-semibold text-gray-900">{{ info.phone.label }}</h3>
                  <p class="text-gray-600">{{ info.phone.value }}</p>
                </div>
              </div>
              <div class="flex gap-4">
                <div class="rounded-2xl bg-brand-blue/10 text-brand-blue flex items-center justify-center h-14 w-14 text-2xl">üìß</div>
                <div>
                  <h3 class="font-semibold text-gray-900">{{ info.email.label }}</h3>
                  <p class="text-gray-600">{{ info.email.value }}</p>
                </div>
              </div>
            </div>
          </div>

          <div class="rounded-[28px] border border-gray-100 bg-white shadow-2xl p-8 space-y-4">
            <p class="text-xs uppercase tracking-[0.35em] text-brand-orange/80">{{ gatherings.eyebrow }}</p>
            <h3 class="text-2xl font-semibold text-gray-900">{{ gatherings.title }}</h3>
            <ul class="space-y-4 text-gray-600">
              <li
                v-for="(item, idx) in gatherings.items"
                :key="item.id"
                class="flex items-center justify-between"
                :class="idx === 0 ? 'border-b border-gray-100 pb-3' : ''"
              >
                <div>
                  <p class="font-semibold text-gray-900">{{ item.title }}</p>
                  <p class="text-sm text-gray-500">{{ item.location }}</p>
                </div>
                <span class="font-medium text-gray-700">{{ item.time }}</span>
              </li>
            </ul>
          </div>
        </div>

        <div class="rounded-[28px] border border-gray-100 bg-white shadow-2xl p-8">
          <div class="space-y-2 mb-6 text-center lg:text-left">
            <p class="text-xs uppercase tracking-[0.35em] text-brand-blue/70">{{ formTexts.eyebrow }}</p>
            <h2 class="text-3xl font-semibold text-gray-900">{{ formTexts.title }}</h2>
            <p class="text-gray-600">{{ formTexts.subtitle }}</p>
          </div>
            <form @submit.prevent="submitForm" class="space-y-6">
              <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                <div>
                  <label class="block text-sm font-medium text-gray-700 mb-2">{{ formTexts.fields.name }}</label>
                  <input
                    v-model="form.name"
                    type="text"
                    required
                    class="input-field"
                    :placeholder="formTexts.placeholders.name"
                  />
                </div>
                <div>
                  <label class="block text-sm font-medium text-gray-700 mb-2">{{ formTexts.fields.email }}</label>
                  <input
                    v-model="form.email"
                    type="email"
                    required
                    class="input-field"
                    :placeholder="formTexts.placeholders.email"
                  />
                </div>
              </div>
              <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                <div>
                  <label class="block text-sm font-medium text-gray-700 mb-2">{{ formTexts.fields.phone }}</label>
                  <input
                    v-model="form.phone"
                    type="tel"
                    class="input-field"
                    :placeholder="formTexts.placeholders.phone"
                  />
                </div>
                <div>
                  <label class="block text-sm font-medium text-gray-700 mb-2">{{ formTexts.fields.reason }}</label>
                  <select
                    v-model="form.reason"
                    required
                    class="input-field"
                  >
                    <option value="">{{ formTexts.placeholders.reason }}</option>
                    <option
                      v-for="option in formTexts.reasonOptions"
                      :key="option.value"
                      :value="option.value"
                    >
                      {{ option.label }}
                    </option>
                  </select>
                </div>
              </div>
              <div>
                <label class="block text-sm font-medium text-gray-700 mb-2">{{ formTexts.fields.message }}</label>
                <textarea
                  v-model="form.message"
                  required
                  rows="5"
                  class="input-field"
                  :placeholder="formTexts.placeholders.message"
                ></textarea>
              </div>
              <button
                type="submit"
                :disabled="submitting"
                class="btn-primary w-full"
                :class="{ 'opacity-50 cursor-not-allowed': submitting }"
              >
                {{ submitting ? formTexts.sending : formTexts.submit }}
              </button>
            </form>
          <div
            v-if="message"
            class="mt-6 rounded-2xl p-4 border"
            :class="messageType === 'success' ? 'bg-green-50 text-green-700 border-green-100' : 'bg-red-50 text-red-700 border-red-100'"
          >
              {{ message }}
          </div>
        </div>
      </div>
    </section>

    <!-- Map -->
    <section class="py-16 bg-white">
      <div class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 grid gap-10 lg:grid-cols-2 items-center">
        <div class="space-y-4">
          <p class="text-sm uppercase tracking-[0.35em] text-gray-400">{{ map.eyebrow }}</p>
          <h2 class="text-3xl font-semibold text-gray-900">{{ map.title }}</h2>
          <p class="text-gray-600">
            {{ map.description }}
          </p>
          <a
            href="https://maps.app.goo.gl/a4YGCcvWRLy6BvRz9"
            target="_blank"
            rel="noopener noreferrer"
            class="inline-flex items-center text-brand-blue font-semibold hover:text-brand-orange transition-colors"
          >
            {{ map.cta }}
            <svg class="ml-2 w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
            </svg>
          </a>
        </div>
        <div class="rounded-[32px] overflow-hidden border border-gray-100 shadow-2xl">
          <iframe
            src="https://www.google.com/maps?q=Street+26BT,+House+428,+Phnom+Penh,+Cambodia&output=embed"
            width="100%"
            height="420"
            style="border:0;"
            allowfullscreen=""
            loading="lazy"
            referrerpolicy="no-referrer-when-downgrade"
            class="w-full"
          ></iframe>
        </div>
      </div>
    </section>

  </div>
</template>

<script>
import { ref, computed } from 'vue'
import { storeToRefs } from 'pinia'
import { useLanguageStore } from '@/stores/language'
import { contactRequestService } from '@/services/contactRequestService'

export default {
  name: 'Contact',
  setup() {
    const form = ref({
      name: '',
      email: '',
      phone: '',
      reason: '',
      message: ''
    })
    
    const submitting = ref(false)
    const message = ref('')
    const messageType = ref('')

    const { selectedLanguage } = storeToRefs(useLanguageStore())

    const translations = {
      en: {
        hero: {
          eyebrow: "We'd love to hear from you",
          title: 'Contact Calvary Chapel Phnom Penh',
          subtitle: 'Questions, prayer requests, or planning a visit? Reach out and our team will respond quickly.'
        },
        info: {
          eyebrow: 'Visit & connect',
          title: 'Get in touch',
          description: 'Our team is available throughout the week to answer questions, pray with you, and help you plug in.',
          address: {
            label: 'Address',
            lines: ['Street 26BT, House 428', 'Boeung Tompun', 'Phnom Penh, Cambodia']
          },
          phone: { label: 'Phone', value: '+855 15 81 44 40' },
          email: { label: 'Email', value: 'calvarychapelphnompenh@gmail.com' }
        },
        gatherings: {
          eyebrow: 'Gatherings',
          title: 'Regular Service',
          items: [
            { id: 'sun', title: 'Sunday Bible Study', location: 'Main sanctuary', time: '9:00 AM' },
            { id: 'wed', title: 'Wednesday Bible Study', location: 'Mid-week gathering', time: '7:00 PM' }
          ]
        },
        form: {
          eyebrow: 'Reach out',
          title: 'Send us a message',
          subtitle: 'We typically respond within one business day.',
          fields: {
            name: 'Full Name *',
            email: 'Email *',
            phone: 'Phone',
            reason: 'Why are you visiting? *',
            message: 'Message *'
          },
          placeholders: {
            name: 'Your full name',
            email: 'your.email@example.com',
            phone: '+855 15 81 44 40',
            reason: 'Select one',
            message: 'How can we help you?'
          },
          reasonOptions: [
            { value: 'Plan a visit', label: 'Plan a visit' },
            { value: 'Prayer request', label: 'Prayer request' },
            { value: 'Counseling / care', label: 'Counseling / care' },
            { value: 'Serving / volunteer', label: 'Serving / volunteer' },
            { value: 'Membership / next steps', label: 'Membership / next steps' },
            { value: 'General question', label: 'General question' },
            { value: 'Other', label: 'Other' }
          ],
          submit: 'Send Message',
          sending: 'Sending...',
          success: "Thank you for your message! We'll get back to you soon.",
          error: 'Sorry, there was an error sending your message. Please try again.'
        },
        map: {
          eyebrow: 'Visit us',
          title: 'Sunday gatherings in Phnom Penh',
          description: 'We meet just south of central Phnom Penh near Boeung Tompun. Use the map for directions or open the route in Google Maps.',
          cta: 'Open directions'
        },
        cta: { primary: 'Contact Us' },
        footerNote: 'For detailed schedules and new events, check the calendar or contact us‚Äînew opportunities are added regularly.'
      },
      kh: {
        hero: {
          eyebrow: '·ûô·ûæ·ûÑ·ûÖ·ûÑ·üã·ûü·üí·ûè·û∂·ûî·üã·ûñ·û∏·û¢·üí·ûì·ûÄ',
          title: '·ûë·û∂·ûÄ·üã·ûë·ûÑ·ûñ·üí·ûö·üá·ûú·û∑·û†·û∂·ûö·ûÄ·û∂·ûõ·üã·ûú·üâ·û∂·ûö·û∏·ûÜ·û∂·ûî·ûï·ûõ·ûó·üí·ûì·üÜ·ûñ·üÅ·ûâ',
          subtitle: '·ûü·üÜ·ûé·ûΩ·ûö ·ûü·üÜ·ûé·ûº·ûò·ûñ·ûö·û¢·ûí·û∑·ûü·üí·ûã·û∂·ûì ·û¨·ûö·üÄ·ûî·ûÖ·üÜ·ûÄ·û∂·ûö·ûò·ûÄ·ûë·ûü·üí·ûü·ûì·û∂? ·ûü·ûº·ûò·ûë·û∂·ûÄ·üã·ûë·ûÑ ·ûò·ûì·üí·ûè·üí·ûö·û∏·ûö·ûî·ûü·üã·ûô·ûæ·ûÑ·ûì·ûπ·ûÑ·ûÜ·üí·ûõ·ûæ·ûô·ûè·ûî·ûö·û†·üê·ûü·üî'
        },
        info: {
          eyebrow: '·ûò·ûÄ·ûë·ûü·üí·ûü·ûì·û∂ ·ûì·û∑·ûÑ·ûè·ûó·üí·ûá·û∂·ûî·üã',
          title: '·ûë·û∂·ûÄ·üã·ûë·ûÑ·ûò·ûÄ·ûÄ·û∂·ûì·üã·ûñ·ûΩ·ûÄ·ûô·ûæ·ûÑ',
          description: '·ûÄ·üí·ûö·ûª·ûò·ûö·ûî·ûü·üã·ûô·ûæ·ûÑ·ûò·û∂·ûì·ûü·üí·ûö·û∂·ûî·üã·ûë·ûº·ûë·û∂·üÜ·ûÑ·ûü·ûî·üí·ûä·û∂·û†·üç ·ûä·ûæ·ûò·üí·ûî·û∏·ûÜ·üí·ûõ·ûæ·ûô·ûü·üÜ·ûé·ûΩ·ûö ·û¢·ûí·û∑·ûü·üí·ûã·û∂·ûì·ûá·û∂·ûò·ûΩ·ûô·û¢·üí·ûì·ûÄ ·ûì·û∑·ûÑ·ûá·ûΩ·ûô·û¢·üí·ûì·ûÄ·ûö·ûΩ·ûò·ûÖ·üÜ·ûé·üÇ·ûÄ·üî',
          address: {
            label: '·û¢·û∂·ûü·ûô·ûä·üí·ûã·û∂·ûì',
            lines: ['·ûï·üí·ûõ·ûº·ûú 26BT ·ûï·üí·ûë·üá·ûõ·üÅ·ûÅ 428', '·ûî·ûπ·ûÑ·ûë·üÜ·ûñ·ûª·ûì', '·ûó·üí·ûì·üÜ·ûñ·üÅ·ûâ ·ûî·üí·ûö·ûë·üÅ·ûü·ûÄ·ûò·üí·ûñ·ûª·ûá·û∂']
          },
          phone: { label: '·ûë·ûº·ûö·ûü·üê·ûñ·üí·ûë', value: '+855 15 81 44 40' },
          email: { label: '·û¢·üä·û∏·ûò·üÇ·ûõ', value: 'calvarychapelphnompenh@gmail.com' }
        },
        gatherings: {
          eyebrow: '·ûÄ·û∂·ûõ·ûú·û∑·ûó·û∂·ûÇ·ûü·üÅ·ûú·û∂·ûÄ·ûò·üí·ûò',
          title: '·ûü·üÅ·ûú·û∂·ûî·üí·ûö·ûÖ·û∂·üÜ',
          items: [
            { id: 'sun', title: '·ûü·û∑·ûÄ·üí·ûü·û∂·ûñ·üí·ûö·üá·ûÇ·ûò·üí·ûñ·û∏·ûö ·ûê·üí·ûÑ·üÉ·û¢·û∂·ûë·û∑·ûè·üí·ûô', location: '·ûü·û∂·ûõ·ûí·üÜ', time: '9:00 ·ûñ·üí·ûö·ûπ·ûÄ' },
            { id: 'wed', title: '·ûü·û∑·ûÄ·üí·ûü·û∂·ûñ·üí·ûö·üá·ûÇ·ûò·üí·ûñ·û∏·ûö ·ûê·üí·ûÑ·üÉ·ûñ·ûª·ûí', location: '·ûÄ·û∂·ûö·ûá·ûΩ·ûî·ûÄ·ûé·üí·ûä·û∂·ûõ·ûü·ûî·üí·ûä·û∂·û†·üç', time: '7:00 ·ûõ·üí·ûÑ·û∂·ûÖ' }
          ]
        },
        form: {
          eyebrow: '·ûë·û∂·ûÄ·üã·ûë·ûÑ',
          title: '·ûï·üí·ûâ·ûæ·ûü·û∂·ûö·ûò·ûÄ·ûô·ûæ·ûÑ',
          subtitle: '·ûô·ûæ·ûÑ·ûó·û∂·ûÇ·ûÖ·üí·ûö·ûæ·ûì·ûÜ·üí·ûõ·ûæ·ûô·ûè·ûî·ûÄ·üí·ûì·ûª·ûÑ·ûö·ûô·üà·ûñ·üÅ·ûõ·ûò·ûΩ·ûô·ûê·üí·ûÑ·üÉ·ûí·üí·ûú·ûæ·ûÄ·û∂·ûö·üî',
          fields: {
            name: '·ûà·üí·ûò·üÑ·üá·ûñ·üÅ·ûâ *',
            email: '·û¢·üä·û∏·ûò·üÇ·ûõ *',
            phone: '·ûë·ûº·ûö·ûü·üê·ûñ·üí·ûë',
            reason: '·û†·üÅ·ûè·ûª·û¢·üí·ûú·û∏·ûî·û∂·ûì·ûò·ûÄ·ûë·ûü·üí·ûü·ûì·û∂? *',
            message: '·ûü·û∂·ûö *'
          },
          placeholders: {
            name: '·ûà·üí·ûò·üÑ·üá·ûñ·üÅ·ûâ·ûö·ûî·ûü·üã·û¢·üí·ûì·ûÄ',
            email: 'your.email@example.com',
            phone: '+855 15 81 44 40',
            reason: '·ûá·üí·ûö·ûæ·ûü·ûö·ûæ·ûü·ûò·ûΩ·ûô',
            message: '·ûô·ûæ·ûÑ·û¢·û∂·ûÖ·ûá·ûΩ·ûô·û¢·üí·ûú·û∏·ûä·ûõ·üã·û¢·üí·ûì·ûÄ?'
          },
          reasonOptions: [
            { value: 'Plan a visit', label: '·ûö·üÄ·ûî·ûÖ·üÜ·ûÄ·û∂·ûö·ûò·ûÄ·ûë·ûü·üí·ûü·ûì·û∂' },
            { value: 'Prayer request', label: '·ûü·üÜ·ûé·ûº·ûò·ûñ·ûö·û¢·ûí·û∑·ûü·üí·ûã·û∂·ûì' },
            { value: 'Counseling / care', label: '·ûÄ·û∂·ûö·ûî·üí·ûö·ûπ·ûÄ·üí·ûü·û∂ / ·ûê·üÇ·ûë·û∂·üÜ' },
            { value: 'Serving / volunteer', label: '·ûî·ûò·üí·ûö·ûæ / ·ûü·üí·ûò·üê·ûÇ·üí·ûö·ûÖ·û∑·ûè·üí·ûè' },
            { value: 'Membership / next steps', label: '·ûü·ûò·û∂·ûá·û∑·ûÄ·ûó·û∂·ûñ / ·ûá·üÜ·û†·û∂·ûì·ûî·ûì·üí·ûë·û∂·ûî·üã' },
            { value: 'General question', label: '·ûü·üÜ·ûé·ûΩ·ûö·ûë·ûº·ûë·üÖ' },
            { value: 'Other', label: '·ûï·üí·ûü·üÅ·ûÑ·üó' }
          ],
          submit: '·ûï·üí·ûâ·ûæ·ûü·û∂·ûö',
          sending: '·ûÄ·üÜ·ûñ·ûª·ûÑ·ûï·üí·ûâ·ûæ...',
          success: '·ûü·ûº·ûò·û¢·ûö·ûÇ·ûª·ûé·ûü·ûò·üí·ûö·û∂·ûî·üã·ûü·û∂·ûö·ûö·ûî·ûü·üã·û¢·üí·ûì·ûÄ! ·ûô·ûæ·ûÑ·ûì·ûπ·ûÑ·ûè·ûî·ûè·üí·ûö·ûº·ûú·ûÜ·û∂·ûî·üã·üó·ûì·üÅ·üá·üî',
          error: '·ûü·ûº·ûò·ûë·üÑ·ûü ·ûò·û∂·ûì·ûî·ûâ·üí·û†·û∂‚Äã·ûÄ·üí·ûì·ûª·ûÑ·ûÄ·û∂·ûö·ûï·üí·ûâ·ûæ·ûü·û∂·ûö ·ûü·ûº·ûò·ûñ·üí·ûô·û∂·ûô·û∂·ûò·ûò·üí·ûè·ûÑ·ûë·üÄ·ûè·üî'
        },
        map: {
          eyebrow: '·ûò·ûÄ·ûë·ûü·üí·ûü·ûì·û∂·ûô·ûæ·ûÑ',
          title: '·ûÄ·û∂·ûö·ûá·ûΩ·ûî·ûá·ûª·üÜ·ûê·üí·ûÑ·üÉ·û¢·û∂·ûë·û∑·ûè·üí·ûô·ûì·üÖ·ûó·üí·ûì·üÜ·ûñ·üÅ·ûâ',
          description: '·ûô·ûæ·ûÑ·ûá·ûΩ·ûî·ûì·üÖ·ûÅ·û∂·ûÑ·ûè·üí·ûî·ûº·ûÑ·ûò·ûΩ·ûô·ûÖ·üÜ·ûì·ûΩ·ûì·ûì·üÉ·ûë·û∏·ûÄ·üí·ûö·ûª·ûÑ·ûó·üí·ûì·üÜ·ûñ·üÅ·ûâ ·ûì·üÖ·ûá·û∑·ûè·ûî·ûπ·ûÑ·ûë·üÜ·ûñ·ûª·ûì·üî ·ûî·üí·ûö·ûæ·ûï·üÇ·ûì·ûë·û∏·ûü·ûò·üí·ûö·û∂·ûî·üã·ûë·û∑·ûü·ûä·üÖ ·û¨·ûî·ûæ·ûÄ·ûï·üí·ûõ·ûº·ûú·ûÄ·üí·ûì·ûª·ûÑ Google Maps·üî',
          cta: '·ûî·ûæ·ûÄ·ûë·û∑·ûü·ûä·üÖ'
        },
        cta: { primary: '·ûë·û∂·ûÄ·üã·ûë·ûÑ·ûò·ûÄ·ûÄ·û∂·ûì·üã·ûñ·ûΩ·ûÄ·ûô·ûæ·ûÑ' },
        footerNote: '·ûü·ûò·üí·ûö·û∂·ûî·üã·ûÄ·û∂·ûõ·ûú·û∑·ûó·û∂·ûÇ·ûõ·ûò·üí·û¢·û∑·ûè ·ûì·û∑·ûÑ·ûñ·üí·ûö·ûπ·ûè·üí·ûè·û∑·ûÄ·û∂·ûö·ûé·üç·ûê·üí·ûò·û∏ ·ûü·ûº·ûò·ûñ·û∑·ûì·û∑·ûè·üí·ûô·ûî·üí·ûö·ûè·û∑·ûë·û∑·ûì ·û¨·ûë·û∂·ûÄ·üã·ûë·ûÑ·ûò·ûÄ·ûô·ûæ·ûÑ‚Äî·û±·ûÄ·û∂·ûü·ûê·üí·ûò·û∏·ûè·üí·ûö·ûº·ûú·ûî·û∂·ûì·ûî·ûì·üí·ûê·üÇ·ûò·ûá·û∂·ûî·üí·ûö·ûÖ·û∂·üÜ·üî'
      }
    }

    const content = computed(() => translations[selectedLanguage.value] || translations.en)
    const hero = computed(() => content.value.hero)
    const info = computed(() => content.value.info)
    const gatherings = computed(() => content.value.gatherings)
    const formTexts = computed(() => content.value.form)
    const map = computed(() => content.value.map)
    const cta = computed(() => content.value.cta)
    const footerNote = computed(() => content.value.footerNote)

    const submitForm = async () => {
      submitting.value = true
      message.value = ''
      
      try {
        await contactRequestService.createContactRequest({
          name: form.value.name,
          email: form.value.email,
          phone: form.value.phone || undefined,
          reason: form.value.reason,
          message: form.value.message,
        })
        
        message.value = formTexts.value.success
        messageType.value = 'success'
        
        form.value = {
          name: '',
          email: '',
          phone: '',
          reason: '',
          message: ''
        }
      } catch (error) {
        message.value = error.message || formTexts.value.error
        messageType.value = 'error'
      } finally {
        submitting.value = false
      }
    }

    const scheduleVisit = () => {
      alert(info.value.phone.value)
    }

    return {
      form,
      submitting,
      message,
      messageType,
      submitForm,
      scheduleVisit,
      hero,
      info,
      gatherings,
      formTexts,
      map,
      cta,
      footerNote
    }
  }
}
</script>
